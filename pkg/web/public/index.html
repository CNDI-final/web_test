<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>DevOps è‡ªå‹•åŒ–æ§åˆ¶å°</title>
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; max-width: 1200px; margin: 20px auto; padding: 0 20px; }
        
        /* å¡ç‰‡æ¨£å¼ */
        .card { border: 1px solid #ccc; padding: 20px; border-radius: 8px; margin-bottom: 20px; background: #f9f9f9; }
        
        /* ä¸‰æ¬„ä½ˆå±€ */
        .container { display: flex; gap: 15px; }
        .panel { flex: 1; border: 1px solid #ccc; padding: 0 15px 15px 15px; border-radius: 8px; background: #fdfdfd; display: flex; flex-direction: column; }
        
        h3 { margin-top: 15px; border-bottom: 2px solid #ddd; padding-bottom: 10px; }
        
        /* è¡¨å–®å…ƒç´  */
        button { padding: 8px 16px; cursor: pointer; border-radius: 4px; border:none; color: white; transition: 0.2s; }
        button:hover { opacity: 0.9; }
        input, select { padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        
        /* è¡¨æ ¼å…±ç”¨æ¨£å¼ */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        td, th { border-bottom: 1px solid #eee; padding: 8px; text-align: left; font-size: 0.9em; }
        
        /* --- æ­·å²ç´€éŒ„æ²å‹•æ¢èˆ‡å›ºå®šæ¨™é¡Œ --- */
        .scroll-wrapper {
            max-height: 350px; 
            overflow-y: auto;  
            border: 1px solid #eee;
        }
        
        .sticky-header th {
            position: sticky;
            top: 0;
            background-color: #f1f1f1;
            z-index: 2;
            box-shadow: 0 2px 2px -1px rgba(0,0,0,0.1);
        }

        /* ç¾åŒ–æ²è»¸ */
        .scroll-wrapper::-webkit-scrollbar { width: 8px; }
        .scroll-wrapper::-webkit-scrollbar-track { background: #f1f1f1; }
        .scroll-wrapper::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
        .scroll-wrapper::-webkit-scrollbar-thumb:hover { background: #999; }

        /* æŒ‰éˆ•é¡è‰² */
        .btn-gh { background: #673ab7; }
        .btn-run { background: #ff9800; }
        .btn-del { background: #dc3545; padding: 4px 8px; font-size: 0.8em; }
        .btn-add-param { background: #795548; font-size: 0.8em; margin-top: 5px; }
        
        /* åƒæ•¸åˆ—æ¨£å¼ */
        .param-row { margin-top: 5px; display: flex; gap: 5px; align-items: center; }
    </style>
</head>
<body>
    <h1>DevOps è‡ªå‹•åŒ–æ§åˆ¶å°</h1>

    <div class="card" style="background: #e3f2fd; border-color: #90caf9;">
        <h3>ğŸ™ Step 1: GitHub æŠ“å–</h3>
        <input type="text" id="gh-owner" placeholder="Owner (e.g. golang)" value="golang">
        <input type="text" id="gh-repo" placeholder="Repo (e.g. go)" value="go">
        <button id="gh-btn" class="btn-gh">æŠ“å–è³‡æ–™</button>
    </div>

    <div class="card" style="background: #fff3e0; border-color: #ffcc80;">
        <h3>â–¶ï¸ Step 2: åŸ·è¡Œ PR ä»»å‹™</h3>
        
        <div style="display: flex; gap: 20px;">
            <div style="flex: 1;">
                <label>é¸æ“‡ PR:</label><br>
                <select id="pr-select" style="width: 100%; margin-top: 5px;">
                    <option value="">-- è«‹å…ˆæŠ“å– GitHub --</option>
                </select>
            </div>
            <div style="flex: 1;">
                <label>å‹•ä½œ:</label><br>
                <select id="action-select" style="width: 100%; margin-top: 5px;">
                    <option value="CI Build">CI Build (å»ºç½®)</option>
                    <option value="Unit Test">Unit Test (æ¸¬è©¦)</option>
                    <option value="Deploy">Deploy (éƒ¨ç½²)</option>
                </select>
            </div>
        </div>

        <div style="margin-top: 15px; padding: 10px; background: #fff; border: 1px dashed #ccc; border-radius: 4px;">
            <label style="font-weight: bold; color: #666;">åƒæ•¸:</label>
            <div id="params-container"></div>
            <button id="add-param-btn" class="btn-add-param">+ åƒæ•¸</button>
        </div>

        <div style="margin-top: 15px;">
            <button id="run-pr-btn" class="btn-run">åŸ·è¡Œä»»å‹™</button>
            <span id="run-msg" style="color: brown; font-weight: bold; margin-left: 10px;"></span>
        </div>
    </div>

    <div class="container">
        
        <div class="panel">
            <h3>â³ æ’éšŠä¸­</h3>
            <div class="scroll-wrapper">
                <table style="width:100%">
                    <thead class="sticky-header"><tr><th>ID</th><th>ä»»å‹™</th><th>æ“ä½œ</th></tr></thead>
                    <tbody id="queue-table-body"></tbody>
                </table>
            </div>
        </div>

        <div class="panel" style="background: #e1f5fe; border-color: #b3e5fc;">
            <h3>ğŸš€ åŸ·è¡Œä¸­</h3>
            <div class="scroll-wrapper">
                <table style="width:100%">
                    <thead class="sticky-header"><tr><th>ä»»å‹™</th><th>é€²åº¦</th><th>å€’æ•¸</th></tr></thead>
                    <tbody id="running-list"></tbody>
                </table>
            </div>
        </div>

        <div class="panel">
            <h3>âœ… æ­·å²</h3>
            <div class="scroll-wrapper">
                <table style="width:100%">
                    <thead class="sticky-header"><tr><th>æ™‚é–“</th><th>ä»»å‹™</th><th>çµæœ</th></tr></thead>
                    <tbody id="history-list"></tbody>
                </table>
            </div>
        </div>

    </div>

    <script src="/js/app.js"></script>
</body>
</html>